<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Operaci√≥n Portal 27</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Cloudflare Web Analytics -->
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "0069b6ac0def4a12b703e84c6b6b9962"}'></script>
</head>
<body>
  <div class="landing-screen" id="landingScreen">
    <div class="landing-panel">
      <img id="landingAgentImage" class="landing-agent-image" alt="Agente" />
      <div class="landing-label">Operaci√≥n Portal 27</div>
      <h1 class="landing-title" id="landingTitle">Agente &amp; Ona ¬∑ Misi√≥n secreta</h1>
      <p class="landing-desc">
        Conecta el equipo, revisa el portal y prep√°rate para elegir tu camino.
      </p>
      <button class="landing-btn" id="startMissionBtn">Comenzar misi√≥n</button>
    </div>
  </div>

  <div class="frame">
    <div class="header">
      <div class="header-title">Laboratorio Hawkins ¬∑ Unidad Espa√±a</div>
      <div class="header-actions">
        <button class="back-btn" id="backBtn" aria-label="Volver atr√°s">‚Üê Atr√°s</button>
        <div class="header-status" id="status">Misi√≥n: Portal_27.ACTIVA</div>
        <button class="agent-avatar-btn" id="agentAvatarBtn" aria-label="Ver agente" title="Ver perfil de agente">
          üë§
        </button>
      </div>
    </div>

    <div class="terminal">
      <!-- Scene layout -->
      <div class="scene-layout">
        <div class="scene-image-wrapper">
          <img
            id="sceneImage"
            class="scene-image"
            alt="Escena"
          />
        </div>

        <div class="story-and-choices">
          <div class="scene-meta">
            <div class="scene-meta__row">
              <span class="scene-meta__label">Fecha</span>
              <span class="scene-meta__value" id="sceneDate">‚Äî</span>
            </div>
            <div class="scene-meta__row">
              <span class="scene-meta__label">Lugar</span>
              <span class="scene-meta__value" id="scenePlace">‚Äî</span>
            </div>
          </div>
          <div class="story" id="story"></div>
          <div class="puzzle-trigger" id="puzzleTrigger" style="display: none;">
            <div class="puzzle-trigger__text" id="puzzleTriggerText">Reto disponible</div>
            <button class="puzzle-btn" id="puzzleAcceptBtn">Aceptar reto</button>
          </div>
          <div class="choices" id="choices"></div>
        </div>
      </div>
    </div>

    <div class="footer">
      <button class="reset-btn" id="resetBtn">Reiniciar misi√≥n</button>
      <div id="footerAgent">OPERACI√ìN PORTAL 27 ¬∑ Agente: ________</div>
    </div>
  </div>
  <script type="module" src="js/app.js"></script>

  <div class="agent-modal" id="agentModal" aria-hidden="true">
    <div class="agent-modal__backdrop" id="agentModalBackdrop"></div>
    <div class="agent-modal__content" role="dialog" aria-modal="true">
      <button class="agent-modal__close" id="agentModalClose" aria-label="Cerrar">√ó</button>
      <div class="agent-modal__header">
        <img id="agentModalAvatar" class="agent-modal__avatar" alt="Avatar agente" />
        <div>
          <div class="agent-name" id="agentModalName">AGENTE DESCONOCIDO</div>
          <div class="agent-tag" id="agentModalTag">Perfil no identificado. Conectando con Hawkins...</div>
        </div>
      </div>
      <div class="agent-modal__body">
        <img id="agentModalFullbody" class="agent-modal__fullbody" alt="Personaje completo" />
        <div class="agent-qualities" id="agentModalQualities"></div>
        <div class="agent-item" id="agentModalItem"></div>
        <div class="agent-lucky-number" id="agentModalLuckyNumber"></div>
        <div id="agentEndingsProgress"></div>
        <div class="agent-modal__actions">
          <button class="agent-action-btn agent-action-btn--reset" id="resetProgressBtn">
            Reiniciar progreso
          </button>
          <button class="agent-action-btn agent-action-btn--switch" id="switchAgentBtn">
            Cambiar de agente
          </button>
        </div>
        <div class="agent-modal__message" id="agentModalMessage" style="display: none;"></div>
      </div>
    </div>
  </div>

  <div class="puzzle-modal" id="puzzleModal" aria-hidden="true">
    <div class="puzzle-modal__backdrop" id="puzzleModalBackdrop"></div>
    <div class="puzzle-modal__content" role="dialog" aria-modal="true">
      <div class="puzzle-modal__header">
        <div>
          <div class="puzzle-title" id="puzzleTitle">Reto activo</div>
          <div class="puzzle-hint" id="puzzleHint"></div>
        </div>
        <button class="puzzle-modal__close" id="puzzleModalClose" aria-label="Cerrar">√ó</button>
      </div>
      <div class="puzzle-description" id="puzzleDescription"></div>
      <div class="puzzle-content" id="puzzleContent"></div>
      <div class="puzzle-actions">
        <button class="puzzle-btn" id="puzzleCheckBtn">Comprobar</button>
        <button class="puzzle-btn ghost" id="puzzleResetBtn">Reiniciar</button>
        <button class="puzzle-btn success" id="puzzleContinueBtn">Continuar</button>
      </div>
      <div class="puzzle-message" id="puzzleMessage"></div>
    </div>
  </div>

  <div class="agent-selector-modal" id="agentSelectorModal" aria-hidden="true">
    <div class="agent-selector-modal__backdrop" id="agentSelectorBackdrop"></div>
    <div class="agent-selector-modal__content" role="dialog" aria-modal="true">
      <button class="agent-selector-modal__close" id="agentSelectorClose" aria-label="Cerrar">√ó</button>
      <div class="agent-selector-modal__header">
        <div class="agent-selector-title">Selecciona tu agente</div>
        <div class="agent-selector-subtitle">Todos los finales desbloqueados. ¬°Elige con qui√©n quieres jugar!</div>
      </div>
      <div class="agent-selector-grid" id="agentSelectorGrid"></div>
    </div>
  </div>
</body>
</html>
