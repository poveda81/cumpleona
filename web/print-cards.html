<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tarjetas de Agentes - Operaci√≥n Portal 27</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }

    .no-print {
      text-align: center;
      margin-bottom: 30px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .no-print h1 {
      color: #e50914;
      margin-bottom: 10px;
    }

    .no-print button {
      background: #e50914;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
      margin: 10px;
    }

    .no-print button:hover {
      background: #b00710;
    }

    .no-print select {
      padding: 8px 16px;
      font-size: 14px;
      margin: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .cards-container {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10mm;
      max-width: 210mm; /* A4 width */
      margin: 0 auto;
    }

    .card {
      width: 95mm;
      height: 135mm;
      background: #000;
      border: 3px solid #e50914;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      position: relative;
      overflow: hidden;
      page-break-inside: avoid;
    }

    /* Imagen de fondo que ocupa toda la tarjeta */
    .card-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center top;
      z-index: 0;
    }

    /* Overlay oscuro para mejorar legibilidad */
    .card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.3) 0%,
        rgba(0, 0, 0, 0.5) 50%,
        rgba(0, 0, 0, 0.9) 100%
      );
      z-index: 1;
    }

    /* Contenido superpuesto */
    .card-content {
      position: relative;
      z-index: 2;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 12px;
    }

    /* Header en la parte superior */
    .card-header {
      text-align: center;
    }

    .card-title {
      font-size: 9px;
      color: rgba(229, 9, 20, 0.8);
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-bottom: 4px;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(229, 9, 20, 0.8);
    }

    /* Nombre del agente con estilo Stranger Things */
    .agent-name {
      font-size: 28px;
      font-weight: 900;
      color: #e50914;
      text-shadow:
        0 0 10px rgba(229, 9, 20, 1),
        0 0 20px rgba(229, 9, 20, 0.8),
        0 0 30px rgba(229, 9, 20, 0.6),
        2px 2px 0px rgba(0, 0, 0, 1);
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-bottom: 2px;
      font-family: 'Arial Black', sans-serif;
    }

    .agent-tag {
      font-size: 10px;
      color: #fff;
      font-style: italic;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.9);
      font-weight: 300;
    }

    /* Footer con QR en la parte inferior */
    .card-footer {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .qr-container {
      background: rgba(255, 255, 255, 0.95);
      padding: 6px;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    }

    .qr-code {
      width: 70px;
      height: 70px;
      display: block;
    }

    .scan-text {
      font-size: 8px;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.9);
      font-weight: 600;
    }

    /* Estilos de impresi√≥n */
    @media print {
      body {
        background: white;
        padding: 0;
      }

      .no-print {
        display: none !important;
      }

      .cards-container {
        gap: 5mm;
      }

      .card {
        box-shadow: none;
        page-break-inside: avoid;
      }

      @page {
        size: A4;
        margin: 10mm;
      }
    }

    /* Modo con l√≠neas de corte */
    .cut-lines .card {
      position: relative;
    }

    .cut-lines .card::after {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 1px dashed #999;
      pointer-events: none;
    }

    @media print {
      .cut-lines .card::after {
        border-color: #ccc;
      }
    }
  </style>
</head>
<body>
  <div class="no-print">
    <h1>üé¥ Tarjetas de Agentes - Operaci√≥n Portal 27</h1>
    <p style="color: #666; margin-bottom: 20px;">
      Tarjetas de 95x135mm (tama√±o tarjeta de visita/trading card) con imagen fullbody, nombre y QR code personalizado.
    </p>

    <div>
      <label for="qrStyle">Estilo de QR:</label>
      <select id="qrStyle" onchange="updateQRStyle()">
        <option value="simple">Simple (Blanco y Negro)</option>
        <option value="styled" selected>Con estilo (Rojo Stranger Things)</option>
      </select>
    </div>

    <div>
      <label>
        <input type="checkbox" id="cutLines" onchange="toggleCutLines()">
        Mostrar l√≠neas de corte
      </label>
    </div>

    <button onclick="window.print()">üñ®Ô∏è Imprimir Tarjetas</button>
    <button onclick="printInstructions()">üìã Ver Instrucciones de Impresi√≥n</button>
  </div>

  <div class="cards-container" id="cardsContainer">
    <!-- Cards will be generated here -->
  </div>

  <script>
    const agents = {
      "ada": { "name": "Ada", "tag": "La estratega", "fullbody": "img/agents/ada_fullbody.png" },
      "ainhoa": { "name": "Ainhoa", "tag": "La aventurera", "fullbody": "img/agents/ainhoa_fullbody.png" },
      "aitana": { "name": "Aitana", "tag": "La valiente", "fullbody": "img/agents/aitana_fullbody.png" },
      "alejandra": { "name": "Alejandra", "tag": "La l√≠der", "fullbody": "img/agents/alejandra_fullbody.png" },
      "claudia": { "name": "Claudia", "tag": "Super inteligente", "fullbody": "img/agents/claudia_fullbody.png" },
      "isabel": { "name": "Isabel", "tag": "La detective", "fullbody": "img/agents/isable_fullbody.png" },
      "jimena": { "name": "Jimena", "tag": "La curiosa", "fullbody": "img/agents/jimena_fullbody.png" },
      "leo": { "name": "Leo", "tag": "La ingeniosa", "fullbody": "img/agents/leo_fullbody.png" },
      "manuela": { "name": "Manuela", "tag": "Memoria fotogr√°fica", "fullbody": "img/agents/manuela_fullbody.png" },
      "marta": { "name": "Marta", "tag": "La creativa", "fullbody": "img/agents/marta_fullbody.png" },
      "martina": { "name": "Martina", "tag": "La anal√≠tica", "fullbody": "img/agents/martina_fullbody.png" },
      "noe": { "name": "No√©", "tag": "La observadora", "fullbody": "img/agents/noe_fullbody.png" },
      "paola_cole": { "name": "Paola H", "tag": "La valiente", "fullbody": "img/agents/paola_h_fullbody.png" },
      "paola": { "name": "Paola P", "tag": "La intuitiva", "fullbody": "img/agents/paola_p_fullbody.png" },
      "paula": { "name": "Paula", "tag": "S√∫per inteligencia", "fullbody": "img/agents/paula_fullbody.png" },
      "zoe": { "name": "Zoe", "tag": "Maestra de acertijos", "fullbody": "img/agents/zoe_fullbody.png" },
      "alex": { "name": "√Ålex", "tag": "La decidida", "fullbody": "img/agents/alex_fullbody.png" }
    };

    let currentQRStyle = 'styled';

    function generateCards() {
      const container = document.getElementById('cardsContainer');
      container.innerHTML = '';

      Object.entries(agents).forEach(([id, agent]) => {
        const card = document.createElement('div');
        card.className = 'card';

        const qrPath = currentQRStyle === 'styled' ? 'img/qr_styled' : 'img/qr';

        card.innerHTML = `
          <!-- Imagen de fondo fullbody -->
          <img src="${agent.fullbody}" alt="${agent.name}" class="card-background"
               onerror="this.style.display='none'">

          <!-- Contenido superpuesto -->
          <div class="card-content">
            <!-- Header en la parte superior -->
            <div class="card-header">
              <div class="card-title">Operaci√≥n Portal 27</div>
              <div class="agent-name">${agent.name}</div>
              <div class="agent-tag">${agent.tag}</div>
            </div>

            <!-- Footer con QR en la parte inferior -->
            <div class="card-footer">
              <div class="qr-container">
                <img src="${qrPath}/qr_${id}.png" alt="QR ${agent.name}" class="qr-code"
                     onerror="this.style.display='none'">
              </div>
              <div class="scan-text">Escanea para jugar</div>
            </div>
          </div>
        `;

        container.appendChild(card);
      });
    }

    function updateQRStyle() {
      currentQRStyle = document.getElementById('qrStyle').value;
      generateCards();
    }

    function toggleCutLines() {
      const container = document.getElementById('cardsContainer');
      if (document.getElementById('cutLines').checked) {
        container.classList.add('cut-lines');
      } else {
        container.classList.remove('cut-lines');
      }
    }

    function printInstructions() {
      alert(`üìã INSTRUCCIONES DE IMPRESI√ìN:

1. Configuraci√≥n de impresora:
   - Papel: A4 (210 x 297 mm)
   - Orientaci√≥n: Vertical
   - M√°rgenes: 10mm
   - Calidad: Mejor/Alta

2. Opciones recomendadas:
   - Usar papel grueso (200-300 gsm)
   - Imprimir en color
   - Desactivar "Ajustar al √°rea de impresi√≥n"

3. Corte:
   - Cada tarjeta mide 95 x 135 mm
   - Activar "l√≠neas de corte" para gu√≠as
   - Se imprimen 2 tarjetas por p√°gina

4. Tips:
   - Imprime una p√°gina de prueba primero
   - Plastifica las tarjetas para mayor durabilidad
   - Puedes imprimir en cartulina directamente

Total de tarjetas: 17 agentes = 9 p√°ginas A4`);
    }

    // Generar tarjetas al cargar
    generateCards();
  </script>
</body>
</html>
